<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Comparing US defense budget with Canada's</title>
    <meta name="description" content="This is a template file to build a stacked horizontal bar chart with multiple series data.">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
  </head>

<style>
body {
  font-family: "Source Sans Pro","Helvetica Neue",Helvetica,Arial,"Nimbus Sans L",sans-serif;
  font-size: 112.5%;
  line-height: 1.5em;
  color: #33333c;
      }  

#wrapper {
    border:1px solid #D3D3D3;
    max-width: 450px;  /*INPUT: set the width of the chart*/
    margin: 0 auto;
}

#big-container {position: relative;}

#container{
    height: 300px;  /*INPUT: set the height of the chart*/
    max-width: 100%;
}

#container2 {
    height:200px;
    width: 50%;
    position:absolute;
    top:5%;
    right:3%;
    border:0.5px solid #d9d9d9;
}

.head {padding:0px 10px;}

.note {
    font-size: 11px;
    color: #808080;
    line-height: 14px;
    padding:0px 10px 10px 10px;
}

#credit {
    font-size: 10px;
    padding-top: 10px;
    text-align: right;
}

.headline {
    font-size: 18px;
    font-weight: normal;
    padding-bottom: 10px;
    padding-top: 10px;
    color: #33333c;
    line-height: 24px;
}

#text {
    font-size: 14px;
    font-weight: normal;
    line-height: 18px;
}

@media (max-width: 400px ) { 
    .headline {font-size: 16px; line-height: 20px; padding-bottom: 0px;}
    #text {font-size: 12px;line-height: 14px;padding-bottom: 3px;}
}  

</style>

<body>
<div id="wrapper"> 
    <div class="head">
        <!-- INPUT: title -->
        <div class="headline">A 10% increase of US defense spending is over 3 times higher than Canada's total annual defense expenditure</div>
        <!-- INPUT: description for the chart -->
        <div id="text"></div> 
    </div>   
    <div id='big-container'>
        <div id="container"></div>
        <div id="container2"></div>
    </div>
    <div class="note">
        <!-- INPUT: data source -->
        Source: 
        <a href='https://www.whitehouse.gov/sites/whitehouse.gov/files/omb/budget/fy2018/2018_blueprint.pdf' target='_blank'>White House</a>, <a href='https://www.defense.gov/News/News-Releases/News-Release-View/Article/652687/department-of-defense-dod-releases-fiscal-year-2017-presidents-budget-proposal' target='_blank'>Defense Department</a>, <a href='https://www.sipri.org/databases/milex' target='_blank'>SIPRI Military Expenditure Database</a>
        <!-- INPUT: additional notes for the chart -->
        <br>
        <!-- INPUT: credit -->
        <div id="credit">Kuang Keng Kuek Ser / PRI</div>
    </div>
</div>
</body>

<script>

$(function () {
    var chart;
    var chart2;
    $(document).ready(function() {

        Highcharts.setOptions({
            lang: {
              thousandsSep: ','
            }
        }),

        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                type: 'column',
                marginTop:50,
            },
            title: {
                text: null,
            },
            subtitle: {
                enabled: false,
            },
            //INPUT: Categories displayed on xAxis
            xAxis: {
                categories: ["", "", ""],    
            },

            //INPUT: the unit of yAxis    
            yAxis: {
                title: {
                  text: "$ billions",
                  style: {
                    color: '#808080',
                    fontSize: '11px',
                  },  
                },
                endOnTick: false,

                //MODIFY: set the minimum interval between unit of yAxis. Remove this line for Highcharts to decide based on width.    
                //minTickInterval:10,
            },
            credits: {enabled: false},
            //Display the legend
            legend: {
                enabled: false,
            },
            //Customize the default tooltip. Refer to the syntax at Highcharts API (http://api.highcharts.com/highcharts/tooltip.headerFormat, http://api.highcharts.com/highcharts/tooltip.pointFormat). You can also write a function to populate the tooltip by using the "formatter" function, see the chart "iraq-laws-696".
            tooltip: {
                //headerFormat: '<b>{point.key}</b><br>',
                //pointFormat: '<b>{point.y}</b>',
                //shared:true,
            },
            plotOptions: {
                series:{
                    //adding this line "stacking: 'normal'" turns the chart into a stacked chart.
                    stacking: 'normal',
                    //MODIFY: adjust the space between bars
                    groupPadding: 0.1,
                    stickyTracking: false,
                    borderWidth: 0,
                    //MODIFY: Show/hide label on the data points. Default is hide.
                    dataLabels: {
                        enabled: false,
                        style: {
                            fontSize: '11px',
                        },
                        //MODIFY: Customize the data label. "point.y" is the data value. ",.1f" sets "," as thousand separator and sets the decimal point at zero. Refer to the syntax at Highcharts API under the topic "FORMAT STRINGS" (http://www.highcharts.com/docs/chart-concepts/labels-and-string-formatting). Remove this line for Highcharts to auto-populate the label.
                        format: '{point.series.name}<br>{point.y:,0f}',
                    }
                },
            },    
            //INPUT: Each data series is an object in "series". The first series will be stacked at the top of the bar. You can set the name and color for each series. 'Name' of the series will appear in the default tooltip. In each series, your data points should be in an array called "data". Color applies to all data points. If you want to change the color of a particular data point, replace that data value with an object such as '{y:489, color:"#FF7F00"}'.
            series: [ 
                {name:"Trump's increase", color:"#FF7F00", data: [51.9, 0, 0]},
                {name:"Obama's 2017 budget", color:"#4188BC", data: [586.7, 0, 0]},
            ],
        });


        chart2 = new Highcharts.Chart({
            chart: {
                renderTo: 'container2',
                type: 'column',
                marginTop: 20,
            },
            title: {
                text: null,
            },
            subtitle: {
                enabled: false,
            },
            //INPUT: Categories displayed on xAxis
            xAxis: {
                categories: ["Trump's<br>increase", "Canada<br>defense<br>spending<br>2015"],   
                labels: {
                    style: {
                        color: '#808080',
                        fontSize: '12px',
                    },   
                }
            },

            //INPUT: the unit of yAxis    
            yAxis: {
                visible: false,

                endOnTick: false,

                //MODIFY: set the minimum interval between unit of yAxis. Remove this line for Highcharts to decide based on width.    
                //minTickInterval:10,
            },
            credits: {enabled: false},
            //Display the legend
            legend: {
                enabled: false,
            },
            //Customize the default tooltip. Refer to the syntax at Highcharts API (http://api.highcharts.com/highcharts/tooltip.headerFormat, http://api.highcharts.com/highcharts/tooltip.pointFormat). You can also write a function to populate the tooltip by using the "formatter" function, see the chart "iraq-laws-696".
            tooltip: {
                //headerFormat: '<b>{point.key}</b><br>',
                //pointFormat: '<b>{point.y}</b>',
                //shared:true,
            },
            plotOptions: {
                series:{
                    //adding this line "stacking: 'normal'" turns the chart into a stacked chart.
                    //MODIFY: adjust the space between bars
                    stickyTracking: false,
                    borderWidth: 0,
                    //MODIFY: Show/hide label on the data points. Default is hide.
                    dataLabels: {
                        enabled: true,
                        crop: false,
                        overflow: "none",
                        style: {
                            fontSize: '12px',
                        },
                        //MODIFY: Customize the data label. "point.y" is the data value. ",.1f" sets "," as thousand separator and sets the decimal point at zero. Refer to the syntax at Highcharts API under the topic "FORMAT STRINGS" (http://www.highcharts.com/docs/chart-concepts/labels-and-string-formatting). Remove this line for Highcharts to auto-populate the label.
                        format: '${point.y} bil',
                    }
                },
            },    
            //INPUT: Each data series is an object in "series". The first series will be stacked at the top of the bar. You can set the name and color for each series. 'Name' of the series will appear in the default tooltip. In each series, your data points should be in an array called "data". Color applies to all data points. If you want to change the color of a particular data point, replace that data value with an object such as '{y:489, color:"#FF7F00"}'.
            series: [ 
                {name:"US vs Canada", color:"#FF7F00", data: [51.9, {y:15, color:"#FFBA00"}]},
            ],
        });


    });
    
});
</script>  
</body>
</html>  

