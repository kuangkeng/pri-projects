<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="http://code.highcharts.com/highcharts.js"></script>
        <script src="http://kuangkeng.github.io/keng-data-journalism/carousel/dist/jquery.jcarousel.min.js"></script>

    </head>

    <style>

    body {
        font-family: "Source Sans Pro","Helvetica Neue",Helvetica,Arial,"Nimbus Sans L",sans-serif;
        font-size:16px;
        color: #333;
        margin: 0 auto;
        line-height: 1.4em;
    }

    .wrapper {
        max-width: 600px;
        padding: 0px 0px 0px 0px;
        margin: 0 auto;
    }

    .jcarousel-wrapper {
        margin: 0px auto;
        padding-bottom: 10px;
        position: relative;
        border: 5px solid #Fff2cc;
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
        -webkit-box-shadow: 0 0 2px #999;
        -moz-box-shadow: 0 0 2px #999;
        box-shadow: 0 0 2px #999;
        background-color: #Fff2cc;
    }

    .card {
        margin: 10px 60px;
    }

    .graph {
        text-align: center;
        margin-bottom: 20px;
    }

    .title {
        font-weight: bold;
        text-align: center;
        margin-bottom: 5px;
    }

    #chart01{
        height: 200px; 
        max-width: 450px;
        min-width: 280px;
    }

    #chart02{
        height: 200px; 
        max-width: 450px;
    }

    .note {
        font-size: 11px;
        color: #808080;
        line-height: 14px;
        padding:0px 10px 10px 10px;
    }

    .icon {
        margin: 0 auto;
        width:100px;
        margin-top: 12%;
    }

    img {
        max-width: 100%;
        height: auto;
    }

    #extra {display:none;}

    /** Carousel **/

    .jcarousel {
        position: relative;
        overflow: hidden;
        width: 100%;
    }

    .jcarousel ul {
        width: 20000em;
        position: relative;
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .jcarousel li {
        width: 200px;
        float: left;
        border: 1px solid #Fff2cc;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
    }

    .jcarousel img {
        display: block;
        max-width: 100%;
        height: auto !important;
        margin-bottom: 5px;
    }

    /** Carousel Controls **/

    .jcarousel-control-prev,
    .jcarousel-control-next {
        position: absolute;
        top: 50%;
        margin-top: -15px;
        width: 20px;
        height: 20px;
        text-align: center;
        background: #4E443C;
        color: #fff;
        text-decoration: none;
        text-shadow: 0 0 1px #000;
        font: 20px/17px Arial, sans-serif;
        -webkit-border-radius: 30px;
        -moz-border-radius: 30px;
        border-radius: 30px;
        -webkit-box-shadow: 0 0 4px #F0EFE7;
        -moz-box-shadow: 0 0 4px #F0EFE7;
        box-shadow: 0 0 4px #F0EFE7;
    }

    .jcarousel-control-prev {
        left: 0px;
    }

    .jcarousel-control-next {
        right: 0px;
    }

    /** Carousel Pagination **/

    .jcarousel-pagination {
        position: absolute;
        bottom: 0px;
        left: 50%;
        -webkit-transform: translate(-50%, 0);
        -ms-transform: translate(-50%, 0);
        transform: translate(-50%, 0);
        margin: 0;
    }

    .jcarousel-pagination a {
        text-decoration: none;
        display: inline-block;

        font-size: 11px;
        height: 10px;
        width: 10px;
        line-height: 10px;

        background: #fff;
        color: #4E443C;
        border-radius: 10px;
        text-indent: -9999px;

        margin-right: 7px;


        -webkit-box-shadow: 0 0 2px #4E443C;
        -moz-box-shadow: 0 0 2px #4E443C;
        box-shadow: 0 0 2px #4E443C;
    }

    .jcarousel-pagination a.active {
        background: #4E443C;
        color: #fff;
        opacity: 1;

        -webkit-box-shadow: 0 0 2px #F0EFE7;
        -moz-box-shadow: 0 0 2px #F0EFE7;
        box-shadow: 0 0 2px #F0EFE7;
    }    

    @media (max-width: 500px ) { 
        .card {
            margin: 10px 25px;
        }
    } 

    @media (max-width: 400px ) { 
        .card {
            margin: 10px 15px;
            font-size: 14px;
            line-height: 1.3em;
        }
        .jcarousel-control-prev,
        .jcarousel-control-next {
            background: rgba(78,68,60,0.5);
        }
        .icon {
            margin-top: 15%;
        }    
        .jcarousel-wrapper {
            border:1px;
        }
        #extra {display:block;}
        #chart01 {margin-left: -20px;}
    }     

    </style>

    <body>

        <div class="wrapper">

            <div class="jcarousel-wrapper">
                <div class="jcarousel">
                    <ul>
                        <li><div class="card"><div class="box">
                                <div class="chart" id="chart01"></div>
                                <div class="note"><div id="extra">Numbers in thousand of barrels per day</div>Source: <a href='http://www.opec.org/opec_web/en/publications/338.htm'  target='_blank'>Opec</a></div>
                            </div>
                            <div class="title">Oil export</div><div class="graph">Sanctions against Iran were lifted on January 16, 2016, also known as the Implementation Day of the nuclear deal. EU, US and several other countries removed their ban on the import, purchase and transport of Iranian crude oil and natural gas, as well as the insuring of Iranian oil shipments. As a result, Iran's oil production has increased by 14% since December 2015.</div></div></li>
                        <li><div class="card"><div class="box">
                                <div class="chart" id="chart02">[chart]</div>
                                <div class="note">*Estimated figures<br>Source: <a href='http://www.worldbank.org/en/country/iran/overview'  target='_blank'>World Bank</a></div>
                            </div>
                            <div class="title">GDP</div><div class="graph"><a href="http://www.worldbank.org/en/country/iran/overview" target='_blank'>The World Bank</a> said the lifting of sanctions and a more business-oriented environment will boost the GDP growth to above four percent in 2016 and 2017. The end of the sanctions will also increase oil production, reduce international transaction costs, bring in foreign direct investment and assets that were earlier frozen by the sanctions.</div></div></li>
                        <li><div class="card"><div class="icon"><img src="http://kuangkeng.github.io/pri-projects/iran-images/money-bag-icon.png"></div><div class="title">Access to assets</div><div class="graph">Iran is being given gradual access to some $100 billion of frozen assets. The US Treasury said Iran will be able to bring back $50 billion of foreign reserves. However, three months after the lifting of the sanctions, US Secretary of State John Kerry said in April that Iran has reaped just <a href="http://www.cnsnews.com/news/article/patrick-goodenough/kerry-iran-has-only-received-3-billion-not-100b-result-nuclear-deal" target="_blank">$3 billion</a> from the frozen assets so far.</div></div></li>
                        <li><div class="card"><div class="icon"><img src="http://kuangkeng.github.io/pri-projects/iran-images/pig-bank-icon.png"></div><div class="title">Access to international banking system</div><div class="graph">Before the deal, the US and EU banned any transactions with Iranian banks. EU has lifted the ban in January but other US sanctions such as those related to Iran's missle program, alleged sponsorship of terrorism and human rights abuse remain. Hence many Europeans banks still <a href="http://www.nytimes.com/2016/04/22/world/middleeast/europe-says-us-regulations-keeping-it-from-trade-with-iran.html" target="_blank">refuse to finance</a> major deals between European businesses and the Iranians due to fear that they will violate the US sanctions and jeopardise their operations in the US.</div></div></li>
                        <li><div class="card"><div class="icon"><img src="http://kuangkeng.github.io/pri-projects/iran-images/usa-flag-icon.png"></div><div class="title">US sanctions</div><div class="graph">Generally US nationals and companies are still barred from trading with Iran except in several industries. The import of Iranian pistachios, caviar or carpets are allowed. US companies are also allowed to sell commercial aircraft and parts to Iran.</div></div></li>
                        <li><div class="card"><div class="icon"><img src="http://kuangkeng.github.io/pri-projects/iran-images/magnifier-icon.png"></div><div class="title">How to make sure Iran comply with the deal?</div><div class="graph">For the next 25 years, the International Atomic Energy Agency (IAEA) will be tracking every bit of uranium from the mine to the waste. Its inspectors are allowed to access any site in Iran they deem suspicious within 24 days for the next 15 years. There is also a 'snap-back' clause in the agreement which states that santions would be imposed automatically without the need to go through the United Nations Security Councilif Iran violated the deal.</div></div></li>
                    </ul>
                </div>
                <a href="#" class="jcarousel-control-prev">&lsaquo;</a>
                <a href="#" class="jcarousel-control-next">&rsaquo;</a>
                
                <p class="jcarousel-pagination"></p>

            </div>
        </div>
    <script>
    (function($) {
        $(function() {
            var jcarousel = $('.jcarousel');

            jcarousel
                .on('jcarousel:reload jcarousel:create', function () {
                    var carousel = $(this),
                        width = carousel.innerWidth();
                    carousel.jcarousel('items').css('width', Math.ceil(width) + 'px');
                })
                .jcarousel({
                    wrap: 'circular'
                });

            $('.jcarousel-control-prev')
                .jcarouselControl({
                    target: '-=1'
                });

            $('.jcarousel-control-next')
                .jcarouselControl({
                    target: '+=1'
                });

            $('.jcarousel-pagination')
                .on('jcarouselpagination:active', 'a', function() {
                    $(this).addClass('active');
                })
                .on('jcarouselpagination:inactive', 'a', function() {
                    $(this).removeClass('active');
                })
                .on('click', function(e) {
                    e.preventDefault();
                })
                .jcarouselPagination({
                    perPage: 1,
                    item: function(page) {
                        return '<a href="#' + page + '">' + page + '</a>';
                    }
                });
        });
    })(jQuery);
    </script>

    <script>
    if ($(window).width()<400){
        $(function () {

            Highcharts.setOptions({
                lang: {
                  thousandsSep: ','
                }
            }),

            $('#chart01').highcharts({
                chart: {
                    type: 'column',
                    backgroundColor: '#Fff2cc',
                },
                title: {
                    text: 'Iran oil production',
                    margin: 20,
                },
                subtitle: {
                    enabled: false,
                },        
                xAxis: {
                    categories: ["2014","Oct<br>'15","Nov<br>'15","Dec<br>'15","Jan<br>'16","Feb<br>'16","Mar<br>'16"],
                    labels: {
                        style: {
                            color: '#808080',
                            fontSize: '10px',
                        },  
                        autoRotation: false,
                    },   
                },
                yAxis: {
                    title: {
                      text: null,
                      style: {
                        color: '#808080',
                        fontSize: '12px',
                      },  
                    },
                    labels: {
                        format: '{value:,.0f}',
                        rotation: 270,
                    },
                    endOnTick: false,
                },
                credits: { enabled: false },
                legend: {
                    enabled: false,
                },
                tooltip: {
                    pointFormat: '{point.y:,.0f} thousand barrels per day',
                },
                plotOptions: {
                    series: {
                        groupPadding:0.01,
                    }
                },
                series: [{
                    data:[2766,2876,2876,2882,{y:2944,color:"#2d95ec"},{y:3152,color:"#2d95ec"},{y:3291,color:"#2d95ec"}],
                    color:"#f64d2a",
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'center',
                        format: '{point.y:,.0f}',
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '10px',
                        }
                    }
                }],
            });
        });
    }

    else {
        $(function () {
            Highcharts.setOptions({
                lang: {
                  thousandsSep: ','
                }
            }),

            $('#chart01').highcharts({
                chart: {
                    type: 'column',
                    backgroundColor: '#Fff2cc',
                },
                title: {
                    text: 'Iran oil production',
                    margin: 20,
                },
                subtitle: {
                    enabled: false,
                },        
                xAxis: {
                    categories: ["2014","Oct<br>2015","Nov<br>2015","Dec<br>2015","Jan<br>2016","Feb<br>2016","Mar<br>2016"],   
                },
                yAxis: {
                    title: {
                      text: "thousand barrels per day",
                      style: {
                        color: '#808080',
                        fontSize: '12px',
                      },  
                    },
                    labels: {
                        format: '{value:,.0f}',
                    },
                    endOnTick: false,
                },
                credits: { enabled: false },
                legend: {
                    enabled: false,
                },
                tooltip: {
                    pointFormat: '{point.y:,.0f} thousand barrels per day',
                },
                plotOptions: {
                    series: {
                        groupPadding:0.01,
                    }
                },
                series: [{
                    data:[2766,2876,2876,2882,{y:2944,color:"#2d95ec"},{y:3152,color:"#2d95ec"},{y:3291,color:"#2d95ec"}],
                    color:"#f64d2a",
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#FFFFFF',
                        align: 'center',
                        format: '{point.y:,.0f}',
                        y: 0, // 10 pixels down from the top
                        style: {
                            fontSize: '12px',
                        }
                    }
                }],
            });
        });
    }

    $(function () {
          Highcharts.setOptions({
                lang: {
                  thousandsSep: ','
                }
          }),

          $('#chart02').highcharts({
              chart: {
                  type: 'line',
                  backgroundColor: '#Fff2cc',
              },
              title: {
                  text: "Iran's GDP growth",
                  margin: 20,
              },
              subtitle: {
                  enabled: false,
              },        
              xAxis: {
                categories: ["2013","2014","2015*","2016*","2017*"],  
              },
              yAxis: {
                  title: {
                    text: null,
                    x: 0,
                    style: {
                      color: '#808080',
                      fontSize: '12px',
                    },  
                  },
                  labels: {
                      format: '{value}%'
                  },
                  endOnTick: true,
              },
              credits: { enabled: false, },
              legend: { enabled: false, },
              tooltip: {
                  pointFormat: 'GDP: <b>{point.y}%</b>'
              },
              series: [{
                data:[-1.9,4.3,0.5,4.2,4.6],
                color:"#2d95ec",
                dataLabels: {
                    enabled: true,
                    rotation: 0,
                    color: '#FFFFFF',
                    align: 'center',
                    format: '{point.y}%',
                    y: 0, // 10 pixels down from the top
                    style: {
                        fontSize: '14px',
                    }
                }
              }],  
      });
    });

    </script>
        
    </body>
</html>
