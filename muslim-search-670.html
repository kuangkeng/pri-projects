<!doctype html>
<html lang="en">
<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>

<style>
body {
  font-family: "Source Sans Pro","Helvetica Neue",Helvetica,Arial,"Nimbus Sans L",sans-serif;
  font-size: 112.5%;
  line-height: 1.5em;
  color: #33333c;
      }  

#container{
height: 500px; 
max-width: 850px;
}

#wrapper {
    border:1px solid #D3D3D3;
    max-width: 850px; 
    margin: 0 auto;
}

#note {
    font-size: 12px;
    color: #808080;
    line-height: 14px;
    padding:0px 10px 10px 10px;
}

#credit {
    font-size: 10px;
    padding-top: 10px;
    text-align: right;
}

#text {
	font-size: 14px;
	line-height: 17px;
	margin-bottom: 5px;
  color:#33333c;
}

.button {text-align: center; margin-bottom: 10px;}
#button {background-color: #e9e9e9;border-radius: 5px; font-size: 14px;}

</style>

</head>

<body>
<div id="wrapper">    
    <div id="container"></div>
    <div id="note">
        <div class="button"><button id="button">Next</button></div>
    	   <div id="text">Click 'Next' to see the search interest of Belgian right-wing nationalist party Vlaams Belang</div>
        <div>Numbers represent search interest relative to the highest point in the chart.
        <br>Source: <a href='https://www.google.com/trends/' target='_blank'>Google Trends</a></div>
        <div id="credit">Kuang Keng Kuek Ser / PRI</div>
    </div>
</div>
</body>

<script>

$(function () {
      Highcharts.setOptions({
            lang: {
              thousandsSep: ','
            }
      }),

      $('#container').highcharts({
          chart: {
              type: 'line',
              zoomType: 'y',
          },
          title: {
              text: 'Anti-Muslim searches spike after Brussels attacks',
              margin: 30,
          },
          subtitle: {
              enabled: false,
          },        
          xAxis: {
              type: 'datetime',
              dateTimeLabelFormats: {
                  day: '%b %e',
              },
              //tickInterval: 24 * 3600 * 1000 * 5 ,
              plotLines: [{
                  value: Date.UTC(2016,2,22),
                  color: '#33333c',
                  dashStyle: 'shortdash',
                  width: 1,
                  label: {
                      useHTML: true,
                      text: 'Brussels attacks',
                      verticalAlign: 'bottom',
                      y:-95,
                      style: {
                          fontSize: '11px',
                          color: '#33333c',
                      }
                  }
              }]
          },
          yAxis: {
              title: {
                text: null,
              },
              labels: {
                  format: '{value:,.0f}'
              },
              endOnTick: false,
          },
          credits: { enabled: false, },

          tooltip: {
              pointFormat: "Phrase: <b>{point.series.name}</b><br>Search interest: <b>{point.y}</b>"
          },
          plotOptions: {
              series: {
                  groupPadding: 0,
              },
              line: {
                  marker: {
                      enabled: false
                  }
              }
          },
	        series: [
	          {name: "'kill Muslims'", color:"#377eb8",
	          data :[
              {x:Date.UTC(2016,2,1), y:11},
              {x:Date.UTC(2016,2,2), y:16},
              {x:Date.UTC(2016,2,3), y:9},
              {x:Date.UTC(2016,2,4), y:8},
              {x:Date.UTC(2016,2,5), y:9},
              {x:Date.UTC(2016,2,6), y:14},
              {x:Date.UTC(2016,2,7), y:9},
              {x:Date.UTC(2016,2,8), y:9},
              {x:Date.UTC(2016,2,9), y:10},
              {x:Date.UTC(2016,2,10), y:14},
              {x:Date.UTC(2016,2,11), y:11},
              {x:Date.UTC(2016,2,12), y:12},
              {x:Date.UTC(2016,2,13), y:13},
              {x:Date.UTC(2016,2,14), y:8},
              {x:Date.UTC(2016,2,15), y:11},
              {x:Date.UTC(2016,2,16), y:9},
              {x:Date.UTC(2016,2,17), y:9},
              {x:Date.UTC(2016,2,18), y:11},
              {x:Date.UTC(2016,2,19), y:9},
              {x:Date.UTC(2016,2,20), y:16},
              {x:Date.UTC(2016,2,21), y:11},
              {x:Date.UTC(2016,2,22), y:59},
              {x:Date.UTC(2016,2,23), y:37},
              {x:Date.UTC(2016,2,24), y:39},
              {x:Date.UTC(2016,2,25), y:27},
              {x:Date.UTC(2016,2,26), y:27},
              {x:Date.UTC(2016,2,27), y:39},
	          ]},
	          {name: "'Muslims are terrorists'", color:"#4daf4a",
	          data :[
              {x:Date.UTC(2016,2,1), y:9},
              {x:Date.UTC(2016,2,2), y:6},
              {x:Date.UTC(2016,2,3), y:9},
              {x:Date.UTC(2016,2,4), y:7},
              {x:Date.UTC(2016,2,5), y:2},
              {x:Date.UTC(2016,2,6), y:5},
              {x:Date.UTC(2016,2,7), y:7},
              {x:Date.UTC(2016,2,8), y:5},
              {x:Date.UTC(2016,2,9), y:6},
              {x:Date.UTC(2016,2,10), y:7},
              {x:Date.UTC(2016,2,11), y:7},
              {x:Date.UTC(2016,2,12), y:6},
              {x:Date.UTC(2016,2,13), y:10},
              {x:Date.UTC(2016,2,14), y:11},
              {x:Date.UTC(2016,2,15), y:11},
              {x:Date.UTC(2016,2,16), y:5},
              {x:Date.UTC(2016,2,17), y:8},
              {x:Date.UTC(2016,2,18), y:11},
              {x:Date.UTC(2016,2,19), y:6},
              {x:Date.UTC(2016,2,20), y:13},
              {x:Date.UTC(2016,2,21), y:6},
              {x:Date.UTC(2016,2,22), y:26},
              {x:Date.UTC(2016,2,23), y:39},
              {x:Date.UTC(2016,2,24), y:22},
              {x:Date.UTC(2016,2,25), y:19},
              {x:Date.UTC(2016,2,26), y:16},
              {x:Date.UTC(2016,2,27), y:16},
	          ]},
            {name: "'stop Islam'", color:"#e41a1c",
            data :[
              {x:Date.UTC(2016,2,1), y:11},
              {x:Date.UTC(2016,2,2), y:14},
              {x:Date.UTC(2016,2,3), y:13},
              {x:Date.UTC(2016,2,4), y:12},
              {x:Date.UTC(2016,2,5), y:11},
              {x:Date.UTC(2016,2,6), y:11},
              {x:Date.UTC(2016,2,7), y:11},
              {x:Date.UTC(2016,2,8), y:7},
              {x:Date.UTC(2016,2,9), y:13},
              {x:Date.UTC(2016,2,10), y:7},
              {x:Date.UTC(2016,2,11), y:13},
              {x:Date.UTC(2016,2,12), y:17},
              {x:Date.UTC(2016,2,13), y:16},
              {x:Date.UTC(2016,2,14), y:17},
              {x:Date.UTC(2016,2,15), y:18},
              {x:Date.UTC(2016,2,16), y:10},
              {x:Date.UTC(2016,2,17), y:16},
              {x:Date.UTC(2016,2,18), y:14},
              {x:Date.UTC(2016,2,19), y:12},
              {x:Date.UTC(2016,2,20), y:21},
              {x:Date.UTC(2016,2,21), y:12},
              {x:Date.UTC(2016,2,22), y:98},
              {x:Date.UTC(2016,2,23), y:100},
              {x:Date.UTC(2016,2,24), y:44},
              {x:Date.UTC(2016,2,25), y:25},
              {x:Date.UTC(2016,2,26), y:19},
              {x:Date.UTC(2016,2,27), y:31},
            ]},
            {name: "'hate Muslims'", color:"#ff7f00",
            data :[
              {x:Date.UTC(2016,2,1), y:15},
              {x:Date.UTC(2016,2,2), y:22},
              {x:Date.UTC(2016,2,3), y:15},
              {x:Date.UTC(2016,2,4), y:21},
              {x:Date.UTC(2016,2,5), y:11},
              {x:Date.UTC(2016,2,6), y:25},
              {x:Date.UTC(2016,2,7), y:13},
              {x:Date.UTC(2016,2,8), y:12},
              {x:Date.UTC(2016,2,9), y:19},
              {x:Date.UTC(2016,2,10), y:39},
              {x:Date.UTC(2016,2,11), y:52},
              {x:Date.UTC(2016,2,12), y:30},
              {x:Date.UTC(2016,2,13), y:30},
              {x:Date.UTC(2016,2,14), y:27},
              {x:Date.UTC(2016,2,15), y:18},
              {x:Date.UTC(2016,2,16), y:27},
              {x:Date.UTC(2016,2,17), y:28},
              {x:Date.UTC(2016,2,18), y:27},
              {x:Date.UTC(2016,2,19), y:16},
              {x:Date.UTC(2016,2,20), y:24},
              {x:Date.UTC(2016,2,21), y:16},
              {x:Date.UTC(2016,2,22), y:49},
              {x:Date.UTC(2016,2,23), y:51},
              {x:Date.UTC(2016,2,24), y:53},
              {x:Date.UTC(2016,2,25), y:34},
              {x:Date.UTC(2016,2,26), y:37},
              {x:Date.UTC(2016,2,27), y:56},
            ]},
	        ],  
  });

  var count = "off";

  $('#button').click(function () {
    if(count=="off"){
      var chart = $('#container').highcharts();
      chart.series[0].color = "#D3D3D3";
      chart.series[1].color = "#D3D3D3";
      chart.series[2].color = "#D3D3D3";
      chart.series[3].color = "#D3D3D3";
      chart.series[0].graph.attr({ stroke: '#D3D3D3' });
      chart.series[1].graph.attr({ stroke: '#D3D3D3' });
      chart.series[2].graph.attr({ stroke: '#D3D3D3' });
      chart.series[3].graph.attr({ stroke: '#D3D3D3' });
      chart.addSeries(
          {name: "'Vlaams Belang'", color:"#984ea3",
          data :[
            {x:Date.UTC(2016,2,1), y:10},
            {x:Date.UTC(2016,2,2), y:7},
            {x:Date.UTC(2016,2,3), y:9},
            {x:Date.UTC(2016,2,4), y:14},
            {x:Date.UTC(2016,2,5), y:10},
            {x:Date.UTC(2016,2,6), y:14},
            {x:Date.UTC(2016,2,7), y:9},
            {x:Date.UTC(2016,2,8), y:11},
            {x:Date.UTC(2016,2,9), y:12},
            {x:Date.UTC(2016,2,10), y:9},
            {x:Date.UTC(2016,2,11), y:6},
            {x:Date.UTC(2016,2,12), y:9},
            {x:Date.UTC(2016,2,13), y:5},
            {x:Date.UTC(2016,2,14), y:11},
            {x:Date.UTC(2016,2,15), y:8},
            {x:Date.UTC(2016,2,16), y:11},
            {x:Date.UTC(2016,2,17), y:11},
            {x:Date.UTC(2016,2,18), y:9},
            {x:Date.UTC(2016,2,19), y:11},
            {x:Date.UTC(2016,2,20), y:6},
            {x:Date.UTC(2016,2,21), y:5},
            {x:Date.UTC(2016,2,22), y:70},
            {x:Date.UTC(2016,2,23), y:36},
            {x:Date.UTC(2016,2,24), y:34},
            {x:Date.UTC(2016,2,25), y:37},
            {x:Date.UTC(2016,2,26), y:25},
            {x:Date.UTC(2016,2,27), y:42},
            ],
            lineWidth: 3}
      );
      $("#button").html("Back");
      count = "on";
    } else {
      $("#button").html("Next");
      var chart = $('#container').highcharts();
      chart.series[4].remove(true);
      chart.series[0].color = "#377eb8";
      chart.series[1].color = "#4daf4a";
      chart.series[2].color = "#e41a1c";
      chart.series[3].color = "#ff7f00";
      chart.series[0].graph.attr({ stroke: '#377eb8' });
      chart.series[1].graph.attr({ stroke: '#4daf4a' });
      chart.series[2].graph.attr({ stroke: '#e41a1c' });
      chart.series[3].graph.attr({ stroke: '#ff7f00' });
      count = "off";
    }
  });

});

</script>