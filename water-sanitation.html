<head>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
  font-family: "Source Sans Pro","Helvetica Neue",Helvetica,Arial,"Nimbus Sans L",sans-serif;
  font-size: 112.5%;
  line-height: 1.5em;
  color: #33333c;
      }  

#wrap{
    height: 800px; 
    max-width: 850px; 
    margin: 0 auto;
    border:1px solid #D3D3D3;
}

#container {
    height: 93%;
}

.mybtn {
    margin:5px 0px;
}

</style>
</head>

<body>
<div id="wrap">    
    <div id="container"></div>
    <div class="row">
        <div class="col-sm-4 col-xs-1"></div>
        <div class="col-sm-2 col-xs-5"><button id="water" class="btn btn-sm btn-primary center-block mybtn ">Sort by water</button></div>
        <div class="col-sm-2 col-xs-5"><button id="sanitation" class="btn btn-sm btn-primary center-block mybtn">Sort by sanitation</button></div>
        <div class="col-sm-4 col-xs-1"></div>
    </div>  
</div>
</body>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <script src="http://code.highcharts.com/highcharts.js"></script>


<script>
$(function () {
    $('#container').highcharts({
        chart: {
            type: 'bar',
            marginBottom: 110,
        },
        title: {
            text: 'Access to improved water sources and sanitation facilities in rural areas, 2015',
            margin: 20,
        },
        subtitle: {
            text: "Click the legend to filter the chart.<br>Source: <a href='http://apps.who.int/gho/data/node.main.46?lang=en'  target='_blank'>World Health Organization</a>",
            useHTML: true,
            floating: true,
            align: 'left',
            verticalAlign: 'bottom',
            y: 0,
            style: {
                color: '#808080',
                fontSize: '10px',
            },
        },        
        xAxis: {
            categories: ["Argentina","Belize","Paraguay","Uruguay","Chile","Mexico","Costa Rica","Cuba","Panama","Brazil","Guatemala","El Salvador","Honduras","Dominican Republic","Venezuela","Bolivia","Ecuador","Colombia","Nicaragua","Peru"],
        },
        yAxis: {
            title: {
              text: '% of total rural population',
              x: -50,
              style: {
                color: '#808080',
                fontSize: '12',
              },  
            },
            labels: {
                format: '{value}'
            },
            endOnTick: false,
        },
        plotOptions: {
            series: {
                groupPadding: 0.05,
                pointPadding: 0,
                dataLabels: {
                    enabled: false,
                }
            }
        },
        credits: { enabled:false },
        legend: {
            enabled: true,
            y: -20,
        },
        tooltip: {
            enabled: true,
            valueSuffix: "%",
        },
        series: [{
            name: 'Water', color:"#a6cee3",
            data: [100,100,94.9,93.9,93.3,92.1,91.9,89.8,88.6,{y:87,color:"#1f78b4"},86.8,86.5,83.8,81.9,77.9,75.6,75.5,{y:73.8,color:"#a6cee3"},69.4,69.2]
        },{
            name: 'Sanitation', color:"#b2df8a",
            data: [98.3,88.2,78.4,92.6,90.9,74.5,92.3,89.1,58,{y:51.5,color:"#33a02c"},49.3,60,77.7,75.7,69.9,27.5,80.7,{y:67.9,color:"#b2df8a"},55.7,53.2]
        }]
    });

    $('#sanitation').click(function () {
        var chart = $('#container').highcharts();
        chart.xAxis[0].setCategories(["Argentina","Uruguay","Costa Rica","Chile","Cuba","Belize","Ecuador","Paraguay","Honduras","Dominican Republic","Mexico","Venezuela","Colombia","El Salvador","Panama","Nicaragua","Peru","Brazil","Guatemala","Bolivia"]);
        chart.series[0].setData([100,93.9,91.9,93.3,89.8,100,75.5,94.9,83.8,{y:81.9,color:"#a6cee3"},92.1,77.9,73.8,86.5,88.6,69.4,69.2,{y:87,color:"#1f78b4"},86.8,75.6]);
        chart.series[1].setData([98.3,92.6,92.3,90.9,89.1,88.2,80.7,78.4,77.7,{y:75.7,color:"#b2df8a"},74.5,69.9,67.9,60,58,55.7,53.2,{y:51.5,color:"#33a02c"},49.3,27.5]);        
    });


    $('#water').click(function () {
        var chart = $('#container').highcharts();
        chart.xAxis[0].setCategories(["Argentina","Belize","Paraguay","Uruguay","Chile","Mexico","Costa Rica","Cuba","Panama","Brazil","Guatemala","El Salvador","Honduras","Dominican Republic","Venezuela","Bolivia","Ecuador","Colombia","Nicaragua","Peru"]);
        chart.series[0].setData([100,100,94.9,93.9,93.3,92.1,91.9,89.8,88.6,{y:87,color:"#1f78b4"},86.8,86.5,83.8,81.9,77.9,75.6,75.5,{y:73.8,color:"#a6cee3"},69.4,69.2]);
        chart.series[1].setData([98.3,88.2,78.4,92.6,90.9,74.5,92.3,89.1,58,{y:51.5,color:"#33a02c"},49.3,60,77.7,75.7,69.9,27.5,80.7,{y:67.9,color:"#b2df8a"},55.7,53.2]);
    });

});
</script>