<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
  margin:0px auto;
  font-family: "Source Sans Pro","Helvetica Neue",Helvetica,Arial,"Nimbus Sans L",sans-serif;
  font-size: 112.5%;
  line-height: 1.5em;
  color: #33333c;
      }  

#tabs {
  height: 700px; 
  width: 100%; 
  max-width: 550px; 
  margin: 0 auto; 
}

#container01, #container02 {
  height: 440px; 
  width: 100%; 
  max-width: 550px; 
  margin: 0 auto;
}

#container02  {
    padding-right: 3%;
  }

#note {
    font-size: 11px;
    color: #808080;
    line-height: 14px;
    padding:0px 10px 10px 10px;
}

#credit {
    font-size: 10px;
    padding-top: 10px;
    text-align: right;
}

#text {
    font-size: 14px;
    font-weight: normal;
    padding-bottom: 10px;
    color:#333;
    line-height: 20px;
}

.hyperlink {
    text-decoration: underline ;
}

.mybtn {
    width:170px;
    margin-bottom: 20px;
}

.highcharts-title {width:100% !important;}

@media (max-width: 500px ) { 
  #container02  {
    padding-right: 8%;
  }
  .highcharts-title {font-size: 14px !important;}
}  

@media (max-width: 420px ) { 
    #text {font-size: 12px;line-height: 14px;padding-bottom: 3px;}
    .ui-tabs-anchor {padding:5px !important;}
    .ui-tabs-panel {padding-left:0px !important; padding-right: 0px !important;}
} 

</style>
</head>

<body>
<div id="tabs">
  <ul>
    <li><a href="#tabs-1">Total by country</a></li>
    <li><a href="#tabs-2">Per capita</a></li>
  </ul>
  <div id="tabs-1">
    <div id="container01"></div>
    <div class="btn btn-primary btn-sm center-block mybtn" id="button01">Show world's total</div>
    <div id="note">
        <div id="text">The study only covers plastic marine debris from municipal solid waste generated by populations living within 50km of a coast. Municipal solid waste consists of everyday items discarded by the public. See <span class="hyperlink"><a href='http://science.sciencemag.org/content/sci/suppl/2015/02/11/347.6223.768.DC1/Jambeck.SM.pdf' target='_blank'>methodology</a></span> for details.</div>
        Source:  
        <span class="hyperlink"><a href='http://science.sciencemag.org/content/347/6223/768' target='_blank'>Plastic waste inputs from land into the ocean, Science.</a></span>
        <div id="credit">Kuang Keng Kuek Ser / PRI</div>
    </div>
  </div>
  <div id="tabs-2">
    <div id="container02"></div>
    <div id="note">
        <div id="text">The study only covers plastic marine debris from municipal solid waste generated by populations living within 50km of a coast. Municipal solid waste consists of everyday items discarded by the public. See <span class="hyperlink"><a href='http://science.sciencemag.org/content/sci/suppl/2015/02/11/347.6223.768.DC1/Jambeck.SM.pdf' target='_blank'>methodology</a></span> for details.</div>
        Source:  
        <span class="hyperlink"><a href='http://science.sciencemag.org/content/347/6223/768' target='_blank'>Plastic waste inputs from land into the ocean, Science.</a></span>
        <div id="credit">Kuang Keng Kuek Ser / PRI</div>
    </div>
  </div> 
</div>
  
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
<script>
$(function() {
  $( "#tabs" ).tabs();
});

$(function () {
    $(document).ready(function() {

        Highcharts.setOptions({
            lang: {
              thousandsSep: ','
            }
        }),
    drawChartA();    

    var fire = 0;
    var chart = $('#container01').highcharts();
    
    $button = $('#button01');
    $button.click(function () {
        if (fire == 0){
            drawChartB();
            $('#button01').text("Hide world's total");
            fire = 1;
        } else {
            drawChartA();
            $('#button01').text("Show world's total");
            fire = 0;
        }
        
    });


    $('#container02').highcharts({
        chart: {
            type: 'bar',
        },
        title: {
            text: "Plastic marine debris estimates per capita, 2010",
        },
        subtitle: {
            enabled: false,
        },        
        xAxis: {
            categories: ["World average","China","Indonesia","Philippines","Vietnam","Sri Lanka","Thailand","Egypt","Malaysia","Nigeria","Bangladesh","US"],  
        },
        yAxis: {
            title: {
              text: "million metric tons per person per year",
              style: {
                color: '#808080',
                fontSize: '11px',
              },  
            },
            stackLabels: {
                style: {
                    color: '#FFFFFF',
                    format: '${point.y}',
                    style: {
                        fontSize: '10px',
                    }
                },
                enabled: false,
                formatter: function () {
                    return "$" + this.total;
                }
            },
            endOnTick: false,
            minTickInterval: 1,
        },
        credits: { enabled: false, },
        legend: {
            
            itemStyle: {
                fontSize: '11px',
            },  
        },
        tooltip: {
            formatter: function () {
                    if (this.series.name == 'Low estimate') {return "<b>" + this.x + "</b>" + "<br>Low estimate: <b>" + this.y + " kg/person/year</b>"}
                    if (this.series.name == 'High estimate') {return "<b>" + this.x + "</b>" + "<br>High estimate: <b>" + this.total + " kg/person/year</b>"}    
            }
        },
        plotOptions: {
            series: {
                stacking: 'normal',
                groupPadding: 0.04,
                pointPadding:0.04,
            }
        },
        series: [{
            name: 'High estimate', color: "#fcae91",
            data: [3.94,8.41,4.33,5.63,8.06,27.46,9.98,11.03,10.05,7.64,2.68,0.62],
        },{
            name: 'Low estimate', color: "#de2d26",
            data: [2.36,5.02,2.56,3.36,5.01,16.47,5.76,6.90,6.12,4.73,1.69,0.35],
            dataLabels: {
                enabled: false,
            }
        }]
    });



    });
    
});

function drawChartA() {
    $('#container01').highcharts({
        chart: {
            type: 'bar',
        },
        title: {
            text: "Plastic marine debris estimates for the top 10 countries & US, 2010",
        },
        subtitle: {
            enabled: false,
        },        
        xAxis: {
            categories: ["China","Indonesia","Philippines","Vietnam","Sri Lanka","Thailand","Egypt","Malaysia","Nigeria","Bangladesh","US"],  
        },
        yAxis: {
            title: {
              text: "million metric tons per year",
              style: {
                color: '#808080',
                fontSize: '11px',
              },  
            },
            stackLabels: {
                style: {
                    color: '#FFFFFF',
                    format: '${point.y}',
                    style: {
                        fontSize: '10px',
                    }
                },
                enabled: false,
                formatter: function () {
                    return "$" + this.total;
                }
            },
            endOnTick: false,
            minTickInterval: 1,
        },
        credits: { enabled: false, },
        legend: {
            
            itemStyle: {
                fontSize: '11px',
            },  
        },
        tooltip: {
            formatter: function () {
                    if (this.series.name == 'Low estimate') {return "<b>" + this.x + "</b>" + "<br>Low estimate: <b>" + this.y + " MMT/year</b>"}
                    if (this.series.name == 'High estimate') {return "<b>" + this.x + "</b>" + "<br>High estimate: <b>" + this.total + " MMT/year</b>"}    
            }
        },
        plotOptions: {
            series: {
                stacking: 'normal',
                groupPadding: 0.04,
                pointPadding:0.04,
            }
        },
        series: [{
            name: 'High estimate', color: "#fcae91",
            data: [2.21,0.81,0.47,0.45,0.4,0.26,0.24,0.23,0.21,0.19,0.07],
        },{
            name: 'Low estimate', color: "#de2d26",
            data: [1.32,0.48,0.28,0.28,0.24,0.15,0.15,0.14,0.13,0.12,0.04],
            dataLabels: {
                enabled: false,
            }
        }]
    });
}

function drawChartB() {
$('#container01').highcharts({
            chart: {
                type: 'bar',
            },
            title: {
                text: "Plastic marine debris estimates for the top 10 countries & US, 2010",
            },
            subtitle: {
                enabled: false,
            },        
            xAxis: {
                categories: ["World","China","Indonesia","Philippines","Vietnam","Sri Lanka","Thailand","Egypt","Malaysia","Nigeria","Bangladesh","US"],  
            },
            yAxis: {
                title: {
                  text: "million metric tons per year",
                  style: {
                    color: '#808080',
                    fontSize: '11px',
                  },  
                },
                stackLabels: {
                    style: {
                        color: '#FFFFFF',
                        format: '${point.y}',
                        style: {
                            fontSize: '10px',
                        }
                    },
                    enabled: false,
                    formatter: function () {
                        return "$" + this.total;
                    }
                },
                endOnTick: false,
                minTickInterval: 1,
            },
            credits: { enabled: false, },
            legend: {
                
                itemStyle: {
                    fontSize: '11px',
                },  
            },
            tooltip: {
                formatter: function () {
                        if (this.series.name == 'Low estimate') {return "<b>" + this.x + "</b>" + "<br>Low estimate: <b>" + this.y + " MMT/year</b>"}
                        if (this.series.name == 'High estimate') {return "<b>" + this.x + "</b>" + "<br>High estimate: <b>" + this.total + " MMT/year</b>"}    
                }
            },
            plotOptions: {
                series: {
                    stacking: 'normal',
                    groupPadding: 0.04,
                    pointPadding:0.04,
                }
            },
            series: [{
                name: 'High estimate', color: "#fcae91",
                data: [7.9,2.21,0.81,0.47,0.45,0.4,0.26,0.24,0.23,0.21,0.19,0.07],
            },{
                name: 'Low estimate', color: "#de2d26",
                data: [4.8,1.32,0.48,0.28,0.28,0.24,0.15,0.15,0.14,0.13,0.12,0.04],
                dataLabels: {
                    enabled: false,
                }
            }]
        }); 
}        

</script>  
</body>
</html>  

