<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
    body {
      font-family: "Source Sans Pro","Helvetica Neue",Helvetica,Arial,"Nimbus Sans L",sans-serif;
          }  

    #container { padding-bottom: 20px; max-width: 500px; background-color: #eeeeee;}

    #chart01 {height: 370px}

    #chart02 {height: 300px}

    #copy {
      font-size: 20px;
      color: #333;
      margin: 20px 0 20px 0;
      font-size: bold;
    }

    #resultcopy {
      font-size: 16px;
      color: #333;
      margin: 20px 0 20px 0;
    }

    .form-control {
      width:100px;
    }

    #choice {
      margin: 0 auto;
      padding:20px;
    }

    #labelbox {
      padding-left: 0px;
      margin-top: 5px;
    }

    .mybtn {
      background-color: #4188bc;
      padding: 10px 10px;
      font-size: 20px;
      font-weight: 400;
      color: #fff;
      border-radius: 5px;
      display: block;
      margin: 0 auto;
      width: 100px;
      text-align: center;
      margin-top: 20px; 
      margin-bottom: 10px; 
    }
    
    .mybtn:hover {
      background-color: #5493c2;
      cursor: pointer;
    }

    @media (max-width: 500px ) { 
      #copy {font-size: 16px;}
      #resultcopy { font-size: 14px; }
    }

    </style>
</head>

<body>
  <div id="container" class="container">
    <div class="row">
      <div id="question01" class="col-sm-12 col-xs-12">
          <div id="copy">How much time do you spend doing paid work per week?</div>
          <div id="explain">Paid work is paid employment in corporations, quasi-corporations, nonprofit institutions and government. It also includes self-employment and providing all kinds of services for income.</div>
          <div id="choice" class="row">
            <div id="choicebox" class="col-sm-6 col-xs-6">
              <select class="form-control pull-right" id="inputPaid">
                <option>0</option>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>
                <option>13</option>
                <option>14</option>
                <option>15</option>
                <option>16</option>
                <option>17</option>
                <option>18</option>
                <option>19</option>
                <option>20</option>
                <option>21</option>
                <option>22</option>
                <option>23</option>
                <option>24</option>
                <option>25</option>
                <option>26</option>
                <option>27</option>
                <option>28</option>
                <option>29</option>
                <option>30</option>
                <option>31</option>
                <option>32</option>
                <option>33</option>
                <option>34</option>
                <option>35</option>
                <option>36</option>
                <option>37</option>
                <option>38</option>
                <option>39</option>
                <option>40</option>
                <option>41</option>
                <option>42</option>
                <option>43</option>
                <option>44</option>
                <option>45</option>
                <option>46</option>
                <option>47</option>
                <option>48</option>
                <option>49</option>
                <option>50</option>
                <option>51</option>
                <option>52</option>
                <option>53</option>
                <option>54</option>
                <option>55</option>
                <option>56</option>
                <option>57</option>
                <option>58</option>
                <option>59</option>
                <option>60</option>
                <option>61</option>
                <option>62</option>
                <option>63</option>
                <option>64</option>
                <option>65</option>
                <option>66</option>
                <option>67</option>
                <option>68</option>
                <option>69</option>
                <option>70</option>
                <option>71</option>
                <option>72</option>
                <option>73</option>
                <option>74</option>
                <option>75</option>
                <option>76</option>
                <option>77</option>
                <option>78</option>
                <option>79</option>
                <option>80</option>
                <option>81</option>
                <option>82</option>
                <option>83</option>
                <option>84</option>
                <option>85</option>
                <option>86</option>
                <option>87</option>
                <option>88</option>
                <option>89</option>
                <option>90</option>
                <option>91</option>
                <option>92</option>
                <option>93</option>
                <option>94</option>
                <option>95</option>
                <option>96</option>
                <option>97</option>
                <option>98</option>
                <option>99</option>
                <option>100</option>
                <option>101</option>
                <option>102</option>
                <option>103</option>
                <option>104</option>
                <option>105</option>
                <option>106</option>
                <option>107</option>
                <option>108</option>
                <option>109</option>
                <option>110</option>
                <option>111</option>
                <option>112</option>
                <option>113</option>
                <option>114</option>
                <option>115</option>
                <option>116</option>
                <option>117</option>
                <option>118</option>
                <option>119</option>
                <option>120</option>
                <option>121</option>
                <option>122</option>
                <option>123</option>
                <option>124</option>
                <option>125</option>
                <option>126</option>
                <option>127</option>
                <option>128</option>
                <option>129</option>
                <option>130</option>
                <option>131</option>
                <option>132</option>
                <option>133</option>
                <option>134</option>
                <option>135</option>
                <option>136</option>
                <option>137</option>
                <option>138</option>
                <option>139</option>
                <option>140</option>
              </select>  
            </div>
            <div id="labelbox" class="col-sm-6 col-xs-6">hours</div>  
          </div>
          <div id="btn01" class="mybtn">Next</div>
      </div>
      <div id="question02" class="col-sm-12 col-xs-12">
          <div id="copy">How much time do you spend doing unpaid work per week?</div>
          <div id="explain">Unpaid work includes housework, caring for children, older people and family members who are sick, voluntary community work or work in political or societal organizations that are unpaid.</div>
          <div id="choice" class="row">
            <div id="choicebox" class="col-sm-6 col-xs-6">
              <select class="form-control pull-right" id="inputUnpaid">
                <option>0</option>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>
                <option>13</option>
                <option>14</option>
                <option>15</option>
                <option>16</option>
                <option>17</option>
                <option>18</option>
                <option>19</option>
                <option>20</option>
                <option>21</option>
                <option>22</option>
                <option>23</option>
                <option>24</option>
                <option>25</option>
                <option>26</option>
                <option>27</option>
                <option>28</option>
                <option>29</option>
                <option>30</option>
                <option>31</option>
                <option>32</option>
                <option>33</option>
                <option>34</option>
                <option>35</option>
                <option>36</option>
                <option>37</option>
                <option>38</option>
                <option>39</option>
                <option>40</option>
                <option>41</option>
                <option>42</option>
                <option>43</option>
                <option>44</option>
                <option>45</option>
                <option>46</option>
                <option>47</option>
                <option>48</option>
                <option>49</option>
                <option>50</option>
                <option>51</option>
                <option>52</option>
                <option>53</option>
                <option>54</option>
                <option>55</option>
                <option>56</option>
                <option>57</option>
                <option>58</option>
                <option>59</option>
                <option>60</option>
                <option>61</option>
                <option>62</option>
                <option>63</option>
                <option>64</option>
                <option>65</option>
                <option>66</option>
                <option>67</option>
                <option>68</option>
                <option>69</option>
                <option>70</option>
                <option>71</option>
                <option>72</option>
                <option>73</option>
                <option>74</option>
                <option>75</option>
                <option>76</option>
                <option>77</option>
                <option>78</option>
                <option>79</option>
                <option>80</option>
                <option>81</option>
                <option>82</option>
                <option>83</option>
                <option>84</option>
                <option>85</option>
                <option>86</option>
                <option>87</option>
                <option>88</option>
                <option>89</option>
                <option>90</option>
                <option>91</option>
                <option>92</option>
                <option>93</option>
                <option>94</option>
                <option>95</option>
                <option>96</option>
                <option>97</option>
                <option>98</option>
                <option>99</option>
                <option>100</option>
                <option>101</option>
                <option>102</option>
                <option>103</option>
                <option>104</option>
                <option>105</option>
                <option>106</option>
                <option>107</option>
                <option>108</option>
                <option>109</option>
                <option>110</option>
                <option>111</option>
                <option>112</option>
                <option>113</option>
                <option>114</option>
                <option>115</option>
                <option>116</option>
                <option>117</option>
                <option>118</option>
                <option>119</option>
                <option>120</option>
                <option>121</option>
                <option>122</option>
                <option>123</option>
                <option>124</option>
                <option>125</option>
                <option>126</option>
                <option>127</option>
                <option>128</option>
                <option>129</option>
                <option>130</option>
                <option>131</option>
                <option>132</option>
                <option>133</option>
                <option>134</option>
                <option>135</option>
                <option>136</option>
                <option>137</option>
                <option>138</option>
                <option>139</option>
                <option>140</option>
              </select>  
            </div>
            <div id="labelbox" class="col-sm-6 col-xs-6">hours</div>  
          </div>
          <div id="btn02" class="mybtn">Next</div>
      </div>
      <div id="answer" class="col-sm-12 col-xs-12">
          <div id="resultcopy">
            <p>You spend <b><span id="result01">result 01</span></b> per day than the average woman at unpaid work and <b><span id="result03">result 03</span></b> at paid work.</p>
            <p>Compared to the average man, you spend <b><span id="result02">result 02</span></b> per day at unpaid work and <b><span id="result04">result 04</span></b> at paid work.</p>
            <p>The first chart compares your working time with the average man and woman. Negative bar means you spend less time while positive bar means you spend more time. Red bar represents time spent on unpaid work and blue is for paid work. The second chart compares the distribution of your working time.</p>
            Mouseover each bar to see the details.
          </div>
          <div id="chart01">chart 01</div>
          <div id="chart02">chart 02</div>
      </div>
    </div>  
  </div>  

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="http://code.highcharts.com/highcharts.js"></script>

<script>
  var data=[
    {"female":272,"male":107},
    {"female":151,"male":272}
  ];

  var inputPaid = 0,
      inputUnpaid = 0,
      output01 = 0,
      output02 = 0,
      output03 = 0,
      output04 = 0;

  function init() { 
    console.log("js ready!");
    $("#question02").hide();    
    $("#answer").hide();

    $("#btn01").click(function() {
      $("#question01").hide();    
      $("#question02").show();
      inputPaid = $('#inputPaid').val();
      //console.log(inputPaid);
    });

    $("#btn02").click(function() {
      $("#question02").hide();
      $("#answer").show();
      inputUnpaid = $('#inputUnpaid').val(); 
      //console.log(inputUnpaid);
      //calculation
      var output01 = (inputUnpaid/7*60) - data[0]["female"];
      var output02 = (inputUnpaid/7*60) - data[0]["male"];
      var output03 = (inputPaid/7*60) - data[1]["female"];
      var output04 = (inputPaid/7*60) - data[1]["male"];

      console.log(output01 + " " + output02 + " " + output03 + " " + output04);

      if (output01>0){$("#result01").text(Math.round(output01) + " minutes more")}
        else{$("#result01").text(Math.abs(Math.round(output01)) + " minutes less")}

      if (output02>0){$("#result02").text(Math.round(output02) + " minutes more")}
        else{$("#result02").text(Math.abs(Math.round(output02)) + " minutes less")}

      if (output03>0){$("#result03").text(Math.round(output03) + " minutes more")}
        else{$("#result03").text(Math.abs(Math.round(output03)) + " minutes less")}      

      if (output04>0){$("#result04").text(Math.round(output04) + " minutes more")}
        else{$("#result04").text(Math.abs(Math.round(output04)) + " minutes less")}
              
      //draw chart01
      $(function () {
          $('#chart01').highcharts({
              chart: {
                  type: 'bar',
                  marginBottom: 80,
              },
              title: {
                text: 'Compare your work time with the average woman and man',
                style: {
                  fontSize: '14',
                }  
              },
              subtitle: {enabled: false},        
              xAxis: {
                  categories: [
                      "women",
                      "men",
                  ],
                  labels: {
                      rotation: 270,
                      style: {
                          fontSize: '12',
                      }
                  }
              },
              yAxis: {
                  title: {
                      text: 'Difference (minutes per day)',
                      margin: 10
                  },
                  
                  
                  labels: {  
                      format: '{value}'
                  },
              },
              legend: {enabled: false},
              credits: {enabled: false},
              tooltip: {
                headerFormat: '<b>Compared with {point.x}:</b><br/>',
                pointFormat: 'Your {series.name} work: {point.y:.0f} min'
              },
              plotOptions: {
                series: {
                  dataLabels: {
                    enabled: true,
                    rotation: 0,
                    color: '#FFFFFF',
                    align: 'left',
                    format: '{point.y:.0f} min', // one decimal
                    y: 0, // 10 pixels down from the top
                    style: {fontSize: '12px'}
                  }
                }
              },
              series: [
                {name: 'unpaid', data: [{y:output01, color: '#d3401e'},{y:output02, color: '#d3401e'}]},
                {name: 'paid',data: [{y:output03, color: '#4188bc'},{y:output04, color: '#4188bc'}]},
              ]
          });
      });//close draw chart01 function

//draw chart02
      $(function () {
        $('#chart02').highcharts({
            chart: {
                type: 'column'
            },
            title: {
              text: 'Distribution of unpaid and paid work',
              style: {
                fontSize: '14',
              }                  
            },
            subtitle: {enabled: false},               
            xAxis: {
                categories: [
                    "women",
                    "men",
                    "you",
                    ]
            },
            yAxis: {
                title: {text: 'Work time (minutes per day)'},
            },
            legend: {enabled: false},
            credits: {enabled: false},
            tooltip: {
                headerFormat: '<b>{point.x}</b><br/>',
                pointFormat: 'total work: {point.stackTotal:.0f} min<br/>{series.name} work: {point.y:.0f} min<br/>percentage of {series.name} work: {point.percentage:.0f}%'
            },
            plotOptions: {
                column: {stacking: 'normal'},
                series: {
                  dataLabels: {
                    enabled: true,
                    rotation: 0,
                    color: '#FFFFFF',
                    align: 'center',
                    format: '{point.percentage:.0f}%', 
                    y: 0,
                    style: {fontSize: '12px'}
                  }
                }
            },
            series: [
                {name: 'paid', data: [data[1]["female"],data[1]["male"],inputPaid*60/7],color: '#4188bc'},
                {name: 'unpaid', data: [data[0]["female"],data[0]["male"],inputUnpaid*60/7],color: '#d3401e'},
            ]
        });
      });//close chart02 function
    }); //close click btn02 function 
  };




  $(document).ready(function(){
    init();
  }); 
</script>


</body>
</html>
